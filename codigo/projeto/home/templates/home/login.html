{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Login - FocusUP</title>
    <link rel="stylesheet" href="{% static 'home/css/estilologin.css' %}" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <main class="tela_login">

      {% if messages %}
        <ul class="container-mensagens">
            {% for message in messages %}
                <li class="mensagem {{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
      {% endif %}
            <div class="container_login">
        <div class="logo_login">
          <img src="{% static 'home/img/Logo.png' %}" alt="Logo FocusUP" />
        </div>

        <h1 class="titulo_login">Bem-vindo de volta!</h1>
        <p class="subtitulo_login">Entre com sua conta para continuar</p>

                <form class="form_login" action="{% url 'home:login' %}" method="POST">
          {% csrf_token %}

          <div class="campo_formulario">
            <label for="email" class="label_formulario">Email ou Usuário</label>
            <input
              type="text" {# Mudado para 'text' para aceitar email ou usuário #}
              id="email"
              name="email" {# A view vai ler 'email' #}
              placeholder="Digite seu email ou usuário"
              autocomplete="username" {# Ajuda o navegador #}
              required
            />
            {% if erro_email %} {# Isso provavelmente não é usado pela view, mas mantido #}
            <div class="erro_campo">{{ erro_email }}</div>
            {% endif %}
          </div>

          <div class="campo_formulario">
            <label for="senha" class="label_formulario">Senha</label>
            <div class="input_olho">
              <input
                type="password"
                id="senha"
                name="senha" {# A view vai ler 'senha' #}
                placeholder="Digite sua senha"
                autocomplete="current-password" {# Ajuda o navegador #}
                required
              />
              <span class="olho" onclick="toggleSenha('senha')">&#128065;</span>
            </div>
            {% if erro_senha %}
            <div class="erro_campo">{{ erro_senha }}</div>
            {% endif %}
          </div>

          {% if erro %}
          <div class="erro_campo">{{ erro }}</div>
          {% endif %}

          <button type="submit" class="botao_login">Entrar</button>
        </form>

        <div class="links_auxiliares">
          <p style="margin-top: 20px">
            <a href="{% url 'home:password_reset' %}">Esqueceu sua senha?</a>
          </p>
          <p style="margin-top: 10px;">
            Não tem uma conta? <a href="{% url 'home:cadastro' %}">Cadastre-se</a>
          </p>
        </div>
      </div>
    </main>

    <script src="{% static 'home/js/menucadastro.js' %}"></script>
  </body>
</html>