{% extends 'home/base.html' %}
{% load static %}

{% block content %}
<div class="container-amigos"> {# Container principal #}
    <section class="secao"> {# Envolve o conteúdo em uma seção #}
        <h1>Encontrar Amigos</h1>

        <form method="GET" action="{% url 'home:buscar_usuarios' %}" class="form-busca"> {# Formulário estilizado #}
            <input
                type="text"
                name="q"
                placeholder="Digite o nome de usuário ou nome real"
                value="{{ query }}"
            />
            <button type="submit">Buscar</button> {# Botão estilizado #}
        </form>

        <hr /> {# Linha estilizada #}

        {% if query %}
            <h2>Resultados para "{{ query }}"</h2>
            {% if resultados %}
                <ul class="lista-resultados"> {# Lista de resultados estilizada #}
                    {% for usuario_encontrado in resultados %}
                        <li class="resultado-item"> {# Item de resultado estilizado #}
                            <span>
                                {{ usuario_encontrado.nome_usuario }}
                                {% if usuario_encontrado.nome %}
                                    <small>({{ usuario_encontrado.nome }})</small> {# Nome real menor #}
                                {% endif %}
                            </span>
                            {# Botão estilizado #}
                            <a href="{% url 'home:enviar_pedido_amizade' usuario_encontrado.pk %}" class="botao-link botao-secundario">
                                Enviar Pedido
                            </a>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p class="sem-resultados">Nenhum usuário encontrado.</p> {# Parágrafo estilizado #}
            {% endif %}
        {% else %}
            <p>Digite um nome acima para buscar por novos amigos.</p>
        {% endif %}
    </section>
</div>
{% endblock %}